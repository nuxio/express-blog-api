<!DOCTYPE html>
<html>
    <head>
        <title>测试api</title>
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    </head>
    <body>
        <a id="register" href="javascript:;">注册</a>
        <a id="login" href="javascript:;">登录</a>
        <a id="get_user" href="javascript:;">获取用户信息</a>
        <a id="update_user" href="javascript:;">更新用户信息</a>
        <a id="create" href="javascript:;">发布博客</a>
        <a id="get_blog" href="javascript:;">获取博客详情</a>
        <a id="action_up" href="javascript:;">博客点赞</a>
        <a id="modify_blog" href="javascript:;">更改博客详情</a>
        <a id="get_blogs" href="javascript:;">获取博客列表</a>
        <a id="add_comment" href="javascript:;">添加评论</a>
        <a id="get_comments" href="javascript:;">查找评论列表</a>
        <a id="delete_comment" href="javascript:;">删除评论</a>

        <form action="/upload/avatar/aaa" enctype="multipart/form-data" method="post">
            <input type="file" name="avatar" />
            <input type="submit" value="提交" />
        </form>

        <script>
            $('body').delegate('#register', 'click', function() {
                $.post('/register', {username: 'bbc', password: 'bbb', password_confirm: 'bbb'}, function(res) {
                    console.log(res);
                });
            });

            $('body').delegate('#login', 'click', function() {
                $.post('/login', {username: 'bbc', password: 'bbb', remember: 1}, function(res) {
                    console.log(res);
                });
            });

             $('body').delegate('#get_user', 'click', function() {
                $.get('/user/aaa', function(res) {
                    console.log(res);
                });
            });

            $('body').delegate('#update_user', 'click', function() {
                $.post('/user/aaa', {username: 'aaa', password: 'bbb', email: '123@qq.com', mobile: '13666666666', gender: '男', introduce: '123123'}, function(res) {
                    console.log(res);
                });
            });

            $('body').delegate('#create', 'click', function() {
                $.post('/create', {title: 'biaotik', content: 'content123123123', tags: '123'}, function(res) {
                    console.log(res);
                });
            });

            $('body').delegate('#get_blog', 'click', function() {
                $.get('/blog/59129b3d23aa4038409f1a44', function(res) {
                    console.log(res);
                });
            });
            
            $('body').delegate('#action_up', 'click', function() {
                $.post('/blog/59129b3d23aa4038409f1a44/up', function(res) {
                    console.log(res);
                });
            });

            $('body').delegate('#modify_blog', 'click', function() {
                $.post('/blog/59129b3d23aa4038409f1a44', {title: 'biaotik2', content: 'contentxxxxxx', tags: ['233', '123']}, function(res) {
                    console.log(res);
                });
            });

            $('body').delegate('#get_blogs', 'click', function() {
                $.get('/blogs', function(res) {
                    console.log(res);
                });
            });

            $('body').delegate('#add_comment', 'click', function() {
                $.post('/59129b3d23aa4038409f1a44/comment', { content: '写的太好了！膜拜！' }, function(res) {
                    console.log(res);
                });
            });

            $('body').delegate('#get_comments', 'click', function() {
                $.get('/59129b3d23aa4038409f1a44/comments', function(res) {
                    console.log(res);
                });
            });

            $('body').delegate('#delete_comment', 'click', function() {
                $.post('/comment/delete', { comment_id: "590e8f35c635172f448d8e6a" }, function(res) {
                    console.log(res);
                });
            });
        </script>
    </body>
</html>